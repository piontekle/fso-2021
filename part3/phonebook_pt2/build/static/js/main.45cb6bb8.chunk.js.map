{"version":3,"sources":["services/persons.js","components/TextBox.js","components/Button.js","components/ContactForm.js","components/Contacts.js","components/Filter.js","components/Notification.js","components/App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newPerson","post","updatedPerson","put","id","delete","status","TextBox","onChange","value","Button","label","type","onClick","ContactForm","onSubmit","onNameChange","name","onNumberChange","number","Contact","Contacts","contacts","handleDelete","length","map","contact","Fragment","Filter","onSearch","search","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Header","heading","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSearch","filteredPersons","setFilteredPersons","notificationMsg","setNotificationMsg","notificationType","setNotificationType","useEffect","personsService","resetNotification","setNotification","event","searchName","target","filteredNames","filter","person","toLowerCase","startsWith","preventDefault","personExists","find","window","confirm","updated","newPersons","concat","catch","err","console","log","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"8MACMA,EAAU,eAsBD,EApBA,WAEb,OADYC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAkBd,EAfA,SAACC,GAEd,OADYL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAad,EAVA,SAACG,GAEd,OADYP,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,EAAcE,IAAMF,GAC7CL,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAQd,EALA,SAACK,GAEd,OADYT,IAAMU,OAAN,UAAgBX,EAAhB,YAA2BU,IAC5BP,MAAK,SAAAC,GAAG,OAAIA,EAAIQ,W,OCddC,EAJC,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,MAAb,OACd,uBAAOD,SAAUA,EAAUC,MAAOA,KCGrBC,EAJA,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAMC,EAAhB,EAAgBA,QAAhB,OACb,wBAAQD,KAAMA,EAAMC,QAASA,EAA7B,SAAuCF,KCsB1BG,EApBK,SAAC,GAAD,IAClBC,EADkB,EAClBA,SACAC,EAFkB,EAElBA,aACAC,EAHkB,EAGlBA,KACAC,EAJkB,EAIlBA,eACAC,EALkB,EAKlBA,OALkB,OAOlB,uBAAMJ,SAAUA,EAAhB,UACE,yCACQ,cAAC,EAAD,CAASP,SAAUQ,EAAcP,MAAOQ,OAEhD,2CACU,cAAC,EAAD,CAAST,SAAUU,EAAgBT,MAAOU,OAEpD,8BACE,cAAC,EAAD,CAAQP,KAAK,SAASD,MAAM,cChB5BS,EAAU,SAAC,GAAD,IAAGH,EAAH,EAAGA,KAAME,EAAT,EAASA,OAAT,OACd,+BAAKF,EAAL,IAAYE,MAmBCE,EAjBE,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,aAAb,OACf,6BACID,EAASE,OACPF,EAASG,KAAI,SAAAC,GAAO,OAClB,eAAC,IAAMC,SAAP,WACE,cAAC,EAAD,CACEV,KAAMS,EAAQT,KACdE,OAAQO,EAAQP,SAElB,cAAC,EAAD,CAAQR,MAAM,SAASE,QAAS,kBAAMU,EAAaG,QALhCA,EAAQtB,OAQ7B,uDCTKwB,EANA,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAb,OACb,sDACqB,cAAC,EAAD,CAAStB,SAAUqB,EAAUpB,MAAOqB,QC6B5CC,EAjCM,SAAC,GAAuB,IAArBnB,EAAoB,EAApBA,KAAMoB,EAAc,EAAdA,QAsB5B,OAAgB,OAAZA,EACK,KAIP,qBAAKC,MA1BQ,CACb,MAAS,CACPC,MAAO,MACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAEhB,QAAW,CACTN,MAAO,QACPC,WAAY,aACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,SASG5B,GAAnB,SACGoB,KCrBDS,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OAAiB,6BAAKA,KAgItBC,EA9HH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAERG,EAFQ,KAECC,EAFD,OAGoBJ,mBAAS,IAH7B,mBAGRK,EAHQ,KAGGC,EAHH,OAIcN,mBAAS,IAJvB,mBAIRd,EAJQ,KAIAqB,EAJA,OAKgCP,mBAAS,IALzC,mBAKRQ,EALQ,KAKSC,EALT,OAMgCT,mBAAS,MANzC,mBAMRU,EANQ,KAMSC,EANT,OAOkCX,mBAAS,WAP3C,mBAORY,EAPQ,KAOUC,EAPV,KAShBC,qBAAU,WACRC,IACG9D,MAAK,SAAAgD,GACJC,EAAWD,QAEd,IAEH,IAKMe,EAAoB,WACxBL,EAAmB,OAGfM,EAAkB,SAACjD,EAAMoB,GAC7BuB,EAAmBvB,GACnByB,EAAoB7C,IA6EtB,OACE,gCACE,cAAC,EAAD,CAAQ8B,QAAQ,cAChB,cAAC,EAAD,CAAQb,SA/BS,SAAAiC,GACnB,IAAMC,EAAaD,EAAME,OAAOvD,MAChC0C,EAAUY,GAEV,IAAME,EAAgBpB,EAAQqB,QAAO,SAAAC,GAAM,OACzCA,EAAOlD,KAAKmD,cAAcC,WAAWN,EAAWK,kBAGlDf,EAAmBY,IAuBexD,MAAOqB,IACvC,cAAC,EAAD,CAAQY,QAAQ,qBAChB,cAAC,EAAD,CAAc9B,KAAM4C,EAAkBxB,QAASsB,IAC/C,cAAC,EAAD,CACEvC,SAzEe,SAAA+C,GACnBA,EAAMQ,iBACN,IAAMC,EAAe1B,EAAQ2B,MAAK,SAAAL,GAAM,OACtCA,EAAOlD,KAAKmD,gBAAkBrB,EAAQqB,iBAGxC,GACEG,GACAE,OAAOC,QAAP,UAAkB3B,EAAlB,2EACA,CACA,IAAM7C,EAAa,2BAAOqE,GAAP,IAAqBpD,OAAQ8B,IAChDU,EAAsBzD,GACnBL,MAAK,SAAA8E,GACJ,IAAMC,EAAa/B,EAAQqB,QAAO,SAAAC,GAAM,OAAIA,EAAO/D,KAAOuE,EAAQvE,MAClE0C,EAAW8B,EAAWC,OAAOF,IAC7Bd,EAAgB,UAAD,UAAec,EAAQ1D,KAAvB,6BAEhB6D,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZlB,EAAgB,QAAD,UAAa3D,EAAce,KAA3B,iDAEd,CACL,IAAMjB,EAAY,CAAEiB,KAAM8B,EAAS5B,OAAQ8B,GAC3CU,EAAsB3D,GACnBH,MAAK,SAAAsE,GACJrB,EAAWD,EAAQgC,OAAOV,IAC1BN,EAAgB,UAAD,UAAeM,EAAOlD,KAAtB,2BAEhB6D,OAAM,SAAAC,GACLlB,EAAgB,QAAD,oCAAuC7D,EAAUiB,OAChE+D,QAAQC,IAAIF,MAnDlB/B,EAAW,IACXE,EAAa,IAuDbgC,YAAW,kBAAMtB,MAAqB,MAuClC5C,aAlFmB,SAAA8C,GACvBd,EAAWc,EAAME,OAAOvD,QAkFpBQ,KAAM8B,EACN7B,eAhFqB,SAAA4C,GACzBZ,EAAaY,EAAME,OAAOvD,QAgFtBU,OAAQ8B,IAEV,cAAC,EAAD,CAAQP,QAAQ,YAChB,cAAC,EAAD,CACEpB,SAAUQ,EAAON,OAAS4B,EAAkBP,EAC5CtB,aAjCe,SAAAG,GACf+C,OAAOC,QAAP,0CAAkDhD,EAAQT,KAA1D,OACF0C,EAAsBjC,EAAQtB,IAC3BP,MAAK,SAAAC,GACJ,IAAM8E,EAAa/B,EAAQqB,QAAO,SAAAC,GAAM,OAAIA,EAAO/D,KAAOsB,EAAQtB,MAClE0C,EAAW8B,GACXf,EAAgB,UAAD,UAAenC,EAAQT,KAAvB,6BAEhB6D,OAAM,SAAAC,GACLlB,EAAgB,QAAD,sCAAyCnC,EAAQT,OAChE+D,QAAQC,IAAIF,MAIlBG,YAAW,kBAAMtB,MAAqB,YC1G1CuB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.45cb6bb8.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then(res => res.data);\n}\n\nconst create = (newPerson) => {\n  const req = axios.post(baseUrl, newPerson);\n  return req.then(res => res.data);\n}\n\nconst update = (updatedPerson) => {\n  const req = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\n  return req.then(res => res.data);\n}\n\nconst remove = (id) => {\n  const req = axios.delete(`${baseUrl}/${id}`);\n  return req.then(res => res.status);\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  remove,\n}\n","import React from 'react';\n\nconst TextBox = ({ onChange, value }) => (\n  <input onChange={onChange} value={value} />\n)\n\nexport default TextBox;\n","import React from 'react';\n\nconst Button = ({ label, type, onClick }) => (\n  <button type={type} onClick={onClick}>{label}</button>\n)\n\nexport default Button;\n","import React from 'react';\n\nimport TextBox from './TextBox';\nimport Button from './Button';\n\nconst ContactForm = ({\n  onSubmit,\n  onNameChange,\n  name,\n  onNumberChange,\n  number\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      name: <TextBox onChange={onNameChange} value={name} />\n    </div>\n    <div>\n      number: <TextBox onChange={onNumberChange} value={number} />\n    </div>\n    <div>\n      <Button type=\"submit\" label=\"add\" />\n    </div>\n  </form>\n)\n\nexport default ContactForm;\n","import React from 'react';\n\nimport Button from './Button';\n\nconst Contact = ({ name, number }) => (\n  <li>{name} {number}</li>\n)\nconst Contacts = ({ contacts, handleDelete }) => (\n  <ul>\n    { contacts.length ? (\n        contacts.map(contact => (\n          <React.Fragment key={contact.id}>\n            <Contact\n              name={contact.name}\n              number={contact.number}\n            />\n            <Button label=\"delete\" onClick={() => handleDelete(contact)}  />\n          </React.Fragment>\n        ))\n      ) : <div>No contacts found</div>\n    }\n  </ul>\n)\n\nexport default Contacts;\n","import React from 'react';\n\nimport TextBox from './TextBox';\n\nconst Filter = ({ onSearch, search }) => (\n  <div>\n    filter shown with: <TextBox onChange={onSearch} value={search} />\n  </div>\n)\n\nexport default Filter;\n","import React from 'react';\n\nconst Notification = ({ type, message }) => {\n  const styles = {\n    'error': {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: '20px',\n      borderStyle: 'solid',\n      borderRadius: '5px',\n      padding: '10px',\n      marginBottom: '10px',\n    },\n    'success': {\n      color: 'green',\n      background: 'lightgreen',\n      fontSize: '20px',\n      borderStyle: 'solid',\n      borderRadius: '5px',\n      padding: '10px',\n      marginBottom: '10px',\n    }\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div style={styles[type]}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\n\nimport personsService from '../services/persons';\n\nimport ContactForm from './ContactForm';\nimport Contacts from './Contacts';\nimport Filter from './Filter';\nimport Notification from './Notification';\n\nconst Header = ({ heading }) => <h2>{heading}</h2>\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ search, setSearch ] = useState('');\n  const [ filteredPersons, setFilteredPersons ] = useState([]);\n  const [ notificationMsg, setNotificationMsg ] = useState(null);\n  const [ notificationType, setNotificationType ] = useState('success');\n\n  useEffect(() => {\n    personsService.getAll()\n      .then(persons => {\n        setPersons(persons);\n      });\n  }, []);\n\n  const resetState = () => {\n    setNewName('');\n    setNewNumber('');\n  }\n\n  const resetNotification = () => {\n    setNotificationMsg(null);\n  }\n\n  const setNotification = (type, message) => {\n    setNotificationMsg(message);\n    setNotificationType(type);\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const personExists = persons.find(person =>\n      person.name.toLowerCase() === newName.toLowerCase()\n    );\n\n    if (\n      personExists &&\n      window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n    ) {\n      const updatedPerson = {...personExists, number: newNumber };\n      personsService.update(updatedPerson)\n        .then(updated => {\n          const newPersons = persons.filter(person => person.id !== updated.id)\n          setPersons(newPersons.concat(updated))\n          setNotification('success', `${updated.name} successfully updated`);\n        })\n        .catch(err => {\n          console.log(err)\n          setNotification('error', `${updatedPerson.name} has already been removed from server`);\n        })\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      personsService.create(newPerson)\n        .then(person => {\n          setPersons(persons.concat(person));\n          setNotification('success', `${person.name} successfully added`);\n        })\n        .catch(err => {\n          setNotification('error', `There was an error adding ${newPerson.name}`);\n          console.log(err)\n        })\n    }\n\n    resetState();\n    setTimeout(() => resetNotification(), 5000);\n  }\n\n  const handleSearch = event => {\n    const searchName = event.target.value;\n    setSearch(searchName);\n\n    const filteredNames = persons.filter(person =>\n      person.name.toLowerCase().startsWith(searchName.toLowerCase())\n    );\n\n    setFilteredPersons(filteredNames);\n  }\n\n  const handleDelete = contact => {\n    if (window.confirm(`Are you sure you want to delete ${contact.name}?`)) {\n      personsService.remove(contact.id)\n        .then(res => {\n          const newPersons = persons.filter(person => person.id !== contact.id);\n          setPersons(newPersons);\n          setNotification('success', `${contact.name} successfully removed`);\n        })\n        .catch(err => {\n          setNotification('error', `There was an error removing ${contact.name}`);\n          console.log(err)\n        });\n    }\n\n    setTimeout(() => resetNotification(), 5000);\n  }\n\n  return (\n    <div>\n      <Header heading=\"Phonebook\" />\n      <Filter onSearch={handleSearch} value={search} />\n      <Header heading=\"Add a new number\" />\n      <Notification type={notificationType} message={notificationMsg} />\n      <ContactForm\n        onSubmit={handleSubmit}\n        onNameChange={handleNameChange}\n        name={newName}\n        onNumberChange={handleNumberChange}\n        number={newNumber}\n      />\n      <Header heading=\"Numbers\" />\n      <Contacts\n        contacts={search.length ? filteredPersons : persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}